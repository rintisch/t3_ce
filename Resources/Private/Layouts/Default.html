<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:t3ce="http://typo3.org/ns/Rintisch/T3Ce/ViewHelpers"
    data-namespace-typo3-fluid="true">

<f:spaceless>
    <f:if condition="{data.frame_class} != none">
        <f:then>

            <f:comment><!-- BACKGROUND COLOR --></f:comment>
            <f:variable name="backgroundColor">
                {data.background_color_class}
            </f:variable>

            <f:comment><!-- FLEXBOX GRID → OFFSET --></f:comment>
            <f:variable name="offset">
                <f:comment><!-- TODO !!!!!!!!!!!!!!!!! --></f:comment>
            </f:variable>

            <f:comment><!-- FLEXBOX GRID → CONTENT-WIDTH --></f:comment>
            <f:variable name="contentWidth">
                <f:if condition="{data.tx_container_parent} == 0">
                    <f:then>
                        {data.frame_class}
                    </f:then>
                    <f:else></f:else>
                </f:if>
            </f:variable>

            <div id="c{data.uid}" class="{backgroundColor}">
                <f:if condition="{data.tx_container_parent} == 0 && {offset}">
                    <div class="{offset}"></div>
                </f:if>
                <div class="{t3ce:format.makeSingleline(value: '{contentWidth} ce-{data.CType}')}">
                    <f:if condition="{data._LOCALIZED_UID}">
                        <a id="c{data._LOCALIZED_UID}"></a>
                    </f:if>
                    <f:if condition="{data.CType} != 't3ce-accordion-container' && {data.CType} != 'page_hero' && !({data.CType} == 'header' && {data.layout} != 10)">
                        <div>
                            <f:render section="Before" optional="true">
                                <f:render partial="DropIn/Before/All" arguments="{_all}"/>
                            </f:render>
                            <f:render section="Header" optional="true">
                                <f:render partial="Header/All" arguments="{_all}"/>
                            </f:render>
                        </div>
                    </f:if>
                    <f:render section="Main" optional="true"/>
                    <f:render section="Footer" optional="true">
                        <f:render partial="Footer/All" arguments="{_all}"/>
                    </f:render>
                    <f:render section="After" optional="true">
                        <f:render partial="DropIn/After/All" arguments="{_all}"/>
                    </f:render>
                </div>
            </div>
        </f:then>
        <f:else>

            <a id="c{data.uid}"></a>
            <f:if condition="{data._LOCALIZED_UID}">
                <a id="c{data._LOCALIZED_UID}"></a>
            </f:if>
            <f:if condition="{marginTop}">
                <div class="{marginTop}"></div>
            </f:if>
            <f:render section="Before" optional="true">
                <f:render partial="DropIn/Before/All" arguments="{_all}"/>
            </f:render>
            <f:if condition="{data.CType} != 'page_hero'">
                <f:render section="Header" optional="true">
                    <f:render partial="Header/All" arguments="{_all}"/>
                </f:render>
            </f:if>
            <f:render section="Main" optional="true"/>
            <f:render section="Footer" optional="true">
                <f:render partial="Footer/All" arguments="{_all}"/>
            </f:render>
            <f:render section="After" optional="true">
                <f:render partial="DropIn/After/All" arguments="{_all}"/>
            </f:render>
            <f:if condition="{marginBottom}">
                <div class="{marginBottom}"></div>
            </f:if>

        </f:else>
    </f:if>
</f:spaceless>
</html>
